<?xml version="1.0"?>
<mujoco model="ets7" xmlns:xacro="http://www.ros.org/wiki/xacro">

    <compiler angle="radian" eulerseq="XYZ" />

    <option timestep="0.001" gravity="0 0 0">
        <flag contact="disable" />
    </option>

    <visual>
        <global offwidth="1280" offheight="720" />
    </visual>

    <default>
        <joint type="hinge" />
        <geom type="cylinder" size="0.05" rgba="0.6 0.8 1.0 1" />
    </default>

    <worldbody>
        <camera name="overview" pos="3 -3 2" xyaxes="0.707 0.707 0 -0.408 0.408 0.816" />

        <light diffuse=".5 .5 .5" pos="0 0 3" dir="0 0 -1" />

        <!-- variables for ChaserSatellite base. -->
        <!-- Source:ADRAS-J https://www.mext.go.jp/content/20241122-mxt_uchukai01-000038822_2.pdf -->
        <xacro:property name="cs_base_size" value="${[0.83, 1.2, 0.81]}" />
        <xacro:property name="cs_base_mass" value="${150}" />
        <!-- variables for ChaserSatellite links -->
        <!-- Source:ETS7 https://doi.org/10.1177/0278364903022005003-->
        <xacro:property name="cs_link_len" value="${[0.350, 0.870, 0.630, 0.275, 0.277, 0.532]}" />
        <xacro:property name="cs_link_mass" value="${[35.0, 22.5, 21.9, 16.5, 26.0, 18.5]}" />
        <xacro:property name="cs_link_axis"
            value="${['0 0 1', '1 0 0', '-1 0 0', '0 -1 0', '-1 0 0', '0 0 1']}" />
        <xacro:property name="cs_link_offset" value="${[0.28, 0, 0, 0, 0, 0]}" />

        <!-- ChaserSatellite -->
        <body name="cs_base" pos="0 0 0">
            <freejoint name="root" />
            <geom name="base_geom" type="box"
                size="${cs_base_size[0]/2} ${cs_base_size[1]/2} ${cs_base_size[2]/2}"
                rgba="0.6 0.8 1.0 1" mass="${cs_base_mass}" />

            <!-- Link 0 -->
            <body name="link0" pos="0 0 ${cs_base_size[2]/2}">
                <joint name="joint0" axis="${cs_link_axis[0]}" />
                <geom fromto="0 0 0 0 0 ${cs_link_len[0]}" mass="${cs_link_mass[0]}" />
                <geom fromto="0 0 ${cs_link_len[0]} ${cs_link_offset[0]} 0 ${cs_link_len[0]}"
                    mass="0" />

                <!-- Link 1 -->
                <body name="link1" pos="${cs_link_offset[0]} 0 ${cs_link_len[0]}">
                    <joint name="joint1" axis="${cs_link_axis[1]}" />
                    <geom fromto="0 0 0 0 0 ${cs_link_len[1]}" mass="${cs_link_mass[1]}" />

                    <!-- Link 2 -->
                    <body name="link2" pos="0 0 ${cs_link_len[1]}">
                        <joint name="joint2" axis="${cs_link_axis[2]}" />
                        <geom fromto="0 0 0 0 -${cs_link_len[2]} 0" mass="${cs_link_mass[2]}" />

                        <!-- Link 3 -->
                        <body name="link3" pos="0 -${cs_link_len[2]} 0">
                            <joint name="joint3" axis="${cs_link_axis[3]}" />
                            <geom fromto="0 0 0 -${cs_link_len[3]} 0 0" mass="${cs_link_mass[3]}" />

                            <!-- Link 4 -->
                            <body name="link4" pos="-${cs_link_len[3]} 0 0">
                                <joint name="joint4" axis="${cs_link_axis[4]}" />
                                <geom fromto="0 0 0 0 0 ${cs_link_len[4]}" mass="${cs_link_mass[4]}" />

                                <!-- Link 5 -->
                                <body name="link5" pos="0 0 ${cs_link_len[4]}">
                                    <joint name="joint5" axis="${cs_link_axis[5]}" />
                                    <geom fromto="0 0 0 0 -${cs_link_len[5]} 0"
                                        mass="${cs_link_mass[5]}" />

                                    <!-- End Effector Site -->
                                    <site name="end_effector" pos="0 -${cs_link_len[5]} 0"
                                        size="0.01"
                                        rgba="1 0 0 1" />
                                </body>
                            </body>
                        </body>
                    </body>
                </body>
            </body>
        </body>

    </worldbody>

    <actuator>
        <motor name="motor0" joint="joint0" ctrllimited="true" ctrlrange="-100 100" />
        <motor name="motor1" joint="joint1" ctrllimited="true" ctrlrange="-100 100" />
        <motor name="motor2" joint="joint2" ctrllimited="true" ctrlrange="-100 100" />
        <motor name="motor3" joint="joint3" ctrllimited="true" ctrlrange="-100 100" />
        <motor name="motor4" joint="joint4" ctrllimited="true" ctrlrange="-100 100" />
        <motor name="motor5" joint="joint5" ctrllimited="true" ctrlrange="-100 100" />
        <position name="servo0" joint="joint0" kp="3" kv="5" />
        <position name="servo1" joint="joint1" kp="3" kv="5" />
        <position name="servo2" joint="joint2" kp="3" kv="5" />
        <position name="servo3" joint="joint3" kp="3" kv="5" />
        <position name="servo4" joint="joint4" kp="3" kv="5" />
        <position name="servo5" joint="joint5" kp="3" kv="5" />
    </actuator>

    <keyframe>
        <key name="stationary" qpos="0 0 0 1 0 0 0 0 0 0 0 0 0" qvel="0 0 0 0 0 0 0 0 0 0 0 0" />
    </keyframe>

</mujoco>